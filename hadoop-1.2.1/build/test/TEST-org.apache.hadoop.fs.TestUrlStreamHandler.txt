Testsuite: org.apache.hadoop.fs.TestUrlStreamHandler
Tests run: 2, Failures: 0, Errors: 1, Time elapsed: 2.841 sec
------------- Standard Output ---------------
2013-09-26 19:25:57,523 WARN  conf.Configuration (Configuration.java:<clinit>(195)) - DEPRECATED: hadoop-site.xml found in the classpath. Usage of hadoop-site.xml is deprecated. Instead use core-site.xml, mapred-site.xml and hdfs-site.xml to override properties of core-default.xml, mapred-default.xml and hdfs-default.xml respectively
2013-09-26 19:25:57,695 INFO  util.GSet (LightWeightGSet.java:computeCapacity(324)) - Computing capacity for map BlocksMap
2013-09-26 19:25:57,695 INFO  util.GSet (LightWeightGSet.java:computeCapacity(325)) - VM type       = 64-bit
2013-09-26 19:25:57,696 INFO  util.GSet (LightWeightGSet.java:computeCapacity(326)) - 2.0% max memory = 477233152
2013-09-26 19:25:57,696 INFO  util.GSet (LightWeightGSet.java:computeCapacity(327)) - capacity      = 2^20 = 1048576 entries
2013-09-26 19:25:57,696 INFO  util.GSet (LightWeightGSet.java:<init>(79)) - recommended=1048576, actual=1048576
2013-09-26 19:25:57,866 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(516)) - fsOwner=johnugeorge
2013-09-26 19:25:57,931 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(520)) - supergroup=supergroup
2013-09-26 19:25:57,931 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(521)) - isPermissionEnabled=true
2013-09-26 19:25:57,937 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(575)) - dfs.block.invalidate.limit=100
2013-09-26 19:25:57,938 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(597)) - isAccessTokenEnabled=false accessKeyUpdateInterval=0 min(s), accessTokenLifetime=0 min(s)
2013-09-26 19:25:57,944 INFO  namenode.FSEditLog (FSImage.java:setEditsTolerationLength(1245)) - dfs.namenode.edits.toleration.length = 0
2013-09-26 19:25:57,944 INFO  namenode.NameNode (FSDirectory.java:<init>(88)) - Caching file names occuring more than 10 times 
2013-09-26 19:25:57,972 INFO  common.Storage (FSImage.java:saveFSImage(1073)) - Image file /home/johnugeorge/workspace/Hadoop-mdfs/hadoop-1.2.1/build/test/data/dfs/name1/current/fsimage of size 117 bytes saved in 0 seconds.
2013-09-26 19:25:58,046 INFO  namenode.FSEditLog (FSEditLog.java:close(202)) - closing edit log: position=4, editlog=/home/johnugeorge/workspace/Hadoop-mdfs/hadoop-1.2.1/build/test/data/dfs/name1/current/edits
2013-09-26 19:25:58,047 INFO  namenode.FSEditLog (FSEditLog.java:close(220)) - close success: truncate to 4, editlog=/home/johnugeorge/workspace/Hadoop-mdfs/hadoop-1.2.1/build/test/data/dfs/name1/current/edits
2013-09-26 19:25:58,292 INFO  common.Storage (FSImage.java:format(1344)) - Storage directory /home/johnugeorge/workspace/Hadoop-mdfs/hadoop-1.2.1/build/test/data/dfs/name1 has been successfully formatted.
2013-09-26 19:25:58,293 INFO  common.Storage (FSImage.java:saveFSImage(1073)) - Image file /home/johnugeorge/workspace/Hadoop-mdfs/hadoop-1.2.1/build/test/data/dfs/name2/current/fsimage of size 117 bytes saved in 0 seconds.
2013-09-26 19:25:58,342 INFO  namenode.FSEditLog (FSEditLog.java:close(202)) - closing edit log: position=4, editlog=/home/johnugeorge/workspace/Hadoop-mdfs/hadoop-1.2.1/build/test/data/dfs/name2/current/edits
2013-09-26 19:25:58,343 INFO  namenode.FSEditLog (FSEditLog.java:close(220)) - close success: truncate to 4, editlog=/home/johnugeorge/workspace/Hadoop-mdfs/hadoop-1.2.1/build/test/data/dfs/name2/current/edits
2013-09-26 19:25:58,653 INFO  common.Storage (FSImage.java:format(1344)) - Storage directory /home/johnugeorge/workspace/Hadoop-mdfs/hadoop-1.2.1/build/test/data/dfs/name2 has been successfully formatted.
2013-09-26 19:25:58,701 INFO  impl.MetricsConfig (MetricsConfig.java:loadFirst(99)) - loaded properties from hadoop-metrics2.properties
2013-09-26 19:25:58,740 INFO  impl.MetricsSourceAdapter (MetricsSourceAdapter.java:start(90)) - MBean for source MetricsSystem,sub=Stats registered.
2013-09-26 19:25:58,743 INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:startTimer(303)) - Scheduled snapshot period at 10 second(s).
2013-09-26 19:25:58,743 INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:start(155)) - NameNode metrics system started
2013-09-26 19:25:58,744 INFO  impl.MetricsSourceAdapter (MetricsSourceAdapter.java:start(90)) - MBean for source ugi registered.
2013-09-26 19:25:58,776 WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:registerSource(200)) - Source name ugi already exists!
2013-09-26 19:25:58,782 INFO  impl.MetricsSourceAdapter (MetricsSourceAdapter.java:start(90)) - MBean for source jvm registered.
2013-09-26 19:25:58,783 INFO  impl.MetricsSourceAdapter (MetricsSourceAdapter.java:start(90)) - MBean for source NameNode registered.
2013-09-26 19:25:58,783 INFO  util.GSet (LightWeightGSet.java:computeCapacity(324)) - Computing capacity for map BlocksMap
2013-09-26 19:25:58,784 INFO  util.GSet (LightWeightGSet.java:computeCapacity(325)) - VM type       = 64-bit
2013-09-26 19:25:58,784 INFO  util.GSet (LightWeightGSet.java:computeCapacity(326)) - 2.0% max memory = 477233152
2013-09-26 19:25:58,784 INFO  util.GSet (LightWeightGSet.java:computeCapacity(327)) - capacity      = 2^20 = 1048576 entries
2013-09-26 19:25:58,784 INFO  util.GSet (LightWeightGSet.java:<init>(79)) - recommended=1048576, actual=1048576
2013-09-26 19:25:58,786 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(516)) - fsOwner=johnugeorge
2013-09-26 19:25:58,786 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(520)) - supergroup=supergroup
2013-09-26 19:25:58,786 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(521)) - isPermissionEnabled=true
2013-09-26 19:25:58,786 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(575)) - dfs.block.invalidate.limit=100
2013-09-26 19:25:58,787 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(597)) - isAccessTokenEnabled=false accessKeyUpdateInterval=0 min(s), accessTokenLifetime=0 min(s)
2013-09-26 19:25:58,789 INFO  namenode.FSNamesystem (FSNamesystem.java:registerMBean(5842)) - Registered FSNamesystemStateMBean and NameNodeMXBean
2013-09-26 19:25:58,789 INFO  namenode.FSEditLog (FSImage.java:setEditsTolerationLength(1245)) - dfs.namenode.edits.toleration.length = 0
2013-09-26 19:25:58,789 INFO  namenode.NameNode (FSDirectory.java:<init>(88)) - Caching file names occuring more than 10 times 
2013-09-26 19:25:58,794 INFO  common.Storage (FSImage.java:loadFSImage(833)) - Start loading image file /home/johnugeorge/workspace/Hadoop-mdfs/hadoop-1.2.1/build/test/data/dfs/name1/current/fsimage
2013-09-26 19:25:58,794 INFO  common.Storage (FSImage.java:loadFSImage(905)) - Number of files = 1
2013-09-26 19:25:58,795 INFO  common.Storage (FSImage.java:loadFilesUnderConstruction(1448)) - Number of files under construction = 0
2013-09-26 19:25:58,795 INFO  common.Storage (FSImage.java:loadFSImage(835)) - Image file /home/johnugeorge/workspace/Hadoop-mdfs/hadoop-1.2.1/build/test/data/dfs/name1/current/fsimage of size 117 bytes loaded in 0 seconds.
2013-09-26 19:25:58,795 INFO  namenode.FSEditLog (FSEditLog.java:loadFSEdits(640)) - Start loading edits file /home/johnugeorge/workspace/Hadoop-mdfs/hadoop-1.2.1/build/test/data/dfs/name1/current/edits
2013-09-26 19:25:58,795 INFO  namenode.FSEditLog (FSEditLog.java:loadFSEdits(695)) - EOF of /home/johnugeorge/workspace/Hadoop-mdfs/hadoop-1.2.1/build/test/data/dfs/name1/current/edits, reached end of edit log Number of transactions found: 0.  Bytes read: 4
2013-09-26 19:25:58,796 INFO  namenode.FSEditLog (FSEditLog.java:checkEndOfLog(541)) - Start checking end of edit log (/home/johnugeorge/workspace/Hadoop-mdfs/hadoop-1.2.1/build/test/data/dfs/name1/current/edits) ...
2013-09-26 19:25:58,796 INFO  namenode.FSEditLog (FSEditLog.java:checkEndOfLog(588)) - Checked the bytes after the end of edit log (/home/johnugeorge/workspace/Hadoop-mdfs/hadoop-1.2.1/build/test/data/dfs/name1/current/edits):
2013-09-26 19:25:58,796 INFO  namenode.FSEditLog (FSEditLog.java:checkEndOfLog(589)) -   Padding position  = -1 (-1 means padding not found)
2013-09-26 19:25:58,796 INFO  namenode.FSEditLog (FSEditLog.java:checkEndOfLog(590)) -   Edit log length   = 4
2013-09-26 19:25:58,797 INFO  namenode.FSEditLog (FSEditLog.java:checkEndOfLog(591)) -   Read length       = 4
2013-09-26 19:25:58,797 INFO  namenode.FSEditLog (FSEditLog.java:checkEndOfLog(592)) -   Corruption length = 0
2013-09-26 19:25:58,797 INFO  namenode.FSEditLog (FSEditLog.java:checkEndOfLog(593)) -   Toleration length = 0 (= dfs.namenode.edits.toleration.length)
2013-09-26 19:25:58,799 INFO  namenode.FSEditLog (FSEditLog.java:checkEndOfLog(595)) - Summary: |---------- Read=4 ----------|-- Corrupt=0 --|-- Pad=0 --|
2013-09-26 19:25:58,799 INFO  namenode.FSEditLog (FSEditLog.java:loadFSEdits(1077)) - Edits file /home/johnugeorge/workspace/Hadoop-mdfs/hadoop-1.2.1/build/test/data/dfs/name1/current/edits of size 4 edits # 0 loaded in 0 seconds.
2013-09-26 19:25:58,800 INFO  common.Storage (FSImage.java:saveFSImage(1073)) - Image file /home/johnugeorge/workspace/Hadoop-mdfs/hadoop-1.2.1/build/test/data/dfs/name1/current/fsimage of size 117 bytes saved in 0 seconds.
2013-09-26 19:25:59,007 INFO  namenode.FSEditLog (FSEditLog.java:close(202)) - closing edit log: position=4, editlog=/home/johnugeorge/workspace/Hadoop-mdfs/hadoop-1.2.1/build/test/data/dfs/name1/current/edits
2013-09-26 19:25:59,007 INFO  namenode.FSEditLog (FSEditLog.java:close(220)) - close success: truncate to 4, editlog=/home/johnugeorge/workspace/Hadoop-mdfs/hadoop-1.2.1/build/test/data/dfs/name1/current/edits
2013-09-26 19:25:59,310 INFO  common.Storage (FSImage.java:saveFSImage(1073)) - Image file /home/johnugeorge/workspace/Hadoop-mdfs/hadoop-1.2.1/build/test/data/dfs/name2/current/fsimage of size 117 bytes saved in 0 seconds.
2013-09-26 19:25:59,369 INFO  namenode.FSEditLog (FSEditLog.java:close(202)) - closing edit log: position=4, editlog=/home/johnugeorge/workspace/Hadoop-mdfs/hadoop-1.2.1/build/test/data/dfs/name2/current/edits
2013-09-26 19:25:59,369 INFO  namenode.FSEditLog (FSEditLog.java:close(220)) - close success: truncate to 4, editlog=/home/johnugeorge/workspace/Hadoop-mdfs/hadoop-1.2.1/build/test/data/dfs/name2/current/edits
2013-09-26 19:25:59,672 INFO  namenode.NameCache (NameCache.java:initialized(143)) - initialized with 0 entries 0 lookups
2013-09-26 19:25:59,673 INFO  namenode.FSNamesystem (FSNamesystem.java:initialize(430)) - Finished loading FSImage in 887 msecs
2013-09-26 19:25:59,674 INFO  namenode.FSNamesystem (FSNamesystem.java:<init>(5155)) - dfs.safemode.threshold.pct          = 0.9990000128746033
2013-09-26 19:25:59,675 INFO  namenode.FSNamesystem (FSNamesystem.java:<init>(5156)) - dfs.namenode.safemode.min.datanodes = 0
2013-09-26 19:25:59,675 INFO  namenode.FSNamesystem (FSNamesystem.java:<init>(5157)) - dfs.safemode.extension              = 0
2013-09-26 19:25:59,675 INFO  namenode.FSNamesystem (FSNamesystem.java:getSafeBlockCount(5590)) - Number of blocks excluded by safe block count: 0 total blocks: 0 and thus the safe blocks: 0
2013-09-26 19:25:59,681 INFO  namenode.FSNamesystem (FSNamesystem.java:processMisReplicatedBlocks(4283)) - Total number of blocks = 0
2013-09-26 19:25:59,681 INFO  namenode.FSNamesystem (FSNamesystem.java:processMisReplicatedBlocks(4284)) - Number of invalid blocks = 0
2013-09-26 19:25:59,681 INFO  namenode.FSNamesystem (FSNamesystem.java:processMisReplicatedBlocks(4285)) - Number of under-replicated blocks = 0
2013-09-26 19:25:59,682 INFO  namenode.FSNamesystem (FSNamesystem.java:processMisReplicatedBlocks(4286)) - Number of  over-replicated blocks = 0
2013-09-26 19:25:59,682 INFO  hdfs.StateChange (FSNamesystem.java:leave(5226)) - STATE* Safe mode termination scan for invalid, over- and under-replicated blocks completed in 7 msec
2013-09-26 19:25:59,682 INFO  hdfs.StateChange (FSNamesystem.java:leave(5232)) - STATE* Leaving safe mode after 0 secs
2013-09-26 19:25:59,682 INFO  hdfs.StateChange (FSNamesystem.java:leave(5241)) - STATE* Network topology has 0 racks and 0 datanodes
2013-09-26 19:25:59,683 INFO  hdfs.StateChange (FSNamesystem.java:leave(5244)) - STATE* UnderReplicatedBlocks has 0 blocks
2013-09-26 19:25:59,689 INFO  util.HostsFileReader (HostsFileReader.java:refresh(76)) - Refreshing hosts (include/exclude) list
2013-09-26 19:25:59,691 INFO  namenode.FSNamesystem (QueueProcessingStatistics.java:logEndFirstCycle(221)) - ReplicateQueue QueueProcessingStatistics: First cycle completed 0 blocks in 1 msec
2013-09-26 19:25:59,691 INFO  namenode.FSNamesystem (QueueProcessingStatistics.java:logEndLastCycle(234)) - ReplicateQueue QueueProcessingStatistics: Queue flush completed 0 blocks in 1 msec processing time, 1 msec clock time, 1 cycles
2013-09-26 19:25:59,691 INFO  namenode.FSNamesystem (QueueProcessingStatistics.java:logEndFirstCycle(221)) - InvalidateQueue QueueProcessingStatistics: First cycle completed 0 blocks in 0 msec
2013-09-26 19:25:59,691 INFO  namenode.FSNamesystem (QueueProcessingStatistics.java:logEndLastCycle(234)) - InvalidateQueue QueueProcessingStatistics: Queue flush completed 0 blocks in 0 msec processing time, 0 msec clock time, 1 cycles
2013-09-26 19:25:59,693 INFO  impl.MetricsSourceAdapter (MetricsSourceAdapter.java:start(90)) - MBean for source FSNamesystemMetrics registered.
2013-09-26 19:25:59,715 INFO  impl.MetricsSourceAdapter (MetricsSourceAdapter.java:start(90)) - MBean for source RpcDetailedActivityForPort56545 registered.
2013-09-26 19:25:59,715 INFO  impl.MetricsSourceAdapter (MetricsSourceAdapter.java:start(90)) - MBean for source RpcActivityForPort56545 registered.
2013-09-26 19:25:59,718 INFO  ipc.Server (Server.java:run(368)) - Starting SocketReader
2013-09-26 19:25:59,718 INFO  namenode.NameNode (NameNode.java:initialize(333)) - Namenode up at: localhost/127.0.0.1:56545
2013-09-26 19:25:59,762 INFO  mortbay.log (Slf4jLog.java:info(67)) - Logging to org.slf4j.impl.Log4jLoggerAdapter(org.mortbay.log) via org.mortbay.log.Slf4jLog
2013-09-26 19:25:59,806 INFO  http.HttpServer (HttpServer.java:addGlobalFilter(432)) - Added global filtersafety (class=org.apache.hadoop.http.HttpServer$QuotingInputFilter)
2013-09-26 19:25:59,816 INFO  http.HttpServer (WebHdfsFileSystem.java:isEnabled(137)) - dfs.webhdfs.enabled = false
2013-09-26 19:25:59,821 INFO  http.HttpServer (HttpServer.java:start(599)) - Port returned by webServer.getConnectors()[0].getLocalPort() before open() is -1. Opening the listener on 0
2013-09-26 19:25:59,823 INFO  http.HttpServer (HttpServer.java:start(604)) - listener.getLocalPort() returned 52786 webServer.getConnectors()[0].getLocalPort() returned 52786
2013-09-26 19:25:59,823 INFO  http.HttpServer (HttpServer.java:start(637)) - Jetty bound to port 52786
2013-09-26 19:25:59,838 INFO  mortbay.log (Slf4jLog.java:info(67)) - jetty-6.1.26
2013-09-26 19:26:00,139 INFO  mortbay.log (Slf4jLog.java:info(67)) - Started SelectChannelConnector@localhost:52786
2013-09-26 19:26:00,139 INFO  namenode.NameNode (NameNode.java:run(523)) - Web-server up at: localhost:52786
2013-09-26 19:26:00,146 INFO  ipc.Server (Server.java:run(638)) - IPC Server Responder: starting
2013-09-26 19:26:00,152 INFO  ipc.Server (Server.java:run(474)) - IPC Server listener on 56545: starting
2013-09-26 19:26:00,166 INFO  ipc.Server (Server.java:run(1402)) - IPC Server handler 0 on 56545: starting
2013-09-26 19:26:00,167 INFO  ipc.Server (Server.java:run(1402)) - IPC Server handler 1 on 56545: starting
2013-09-26 19:26:00,167 INFO  ipc.Server (Server.java:run(1402)) - IPC Server handler 2 on 56545: starting
2013-09-26 19:26:00,167 INFO  ipc.Server (Server.java:run(1402)) - IPC Server handler 3 on 56545: starting
2013-09-26 19:26:00,167 INFO  ipc.Server (Server.java:run(1402)) - IPC Server handler 4 on 56545: starting
2013-09-26 19:26:00,167 INFO  ipc.Server (Server.java:run(1402)) - IPC Server handler 5 on 56545: starting
2013-09-26 19:26:00,168 INFO  ipc.Server (Server.java:run(1402)) - IPC Server handler 6 on 56545: starting
2013-09-26 19:26:00,168 INFO  ipc.Server (Server.java:run(1402)) - IPC Server handler 7 on 56545: starting
2013-09-26 19:26:00,168 INFO  ipc.Server (Server.java:run(1402)) - IPC Server handler 8 on 56545: starting
2013-09-26 19:26:00,172 INFO  ipc.Server (Server.java:run(1402)) - IPC Server handler 9 on 56545: starting
Starting DataNode 0 with dfs.data.dir: /home/johnugeorge/workspace/Hadoop-mdfs/hadoop-1.2.1/build/test/data/dfs/data/data1,/home/johnugeorge/workspace/Hadoop-mdfs/hadoop-1.2.1/build/test/data/dfs/data/data2
2013-09-26 19:26:00,218 WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(129)) - NameNode metrics system already initialized!
2013-09-26 19:26:00,218 WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:registerSource(200)) - Source name ugi already exists!
2013-09-26 19:26:00,236 WARN  datanode.DataNode (DataNode.java:makeInstance(1707)) - Invalid directory in dfs.data.dir: Incorrect permission for /home/johnugeorge/workspace/Hadoop-mdfs/hadoop-1.2.1/build/test/data/dfs/data/data1, expected: rwxr-xr-x, while actual: rwxrwxr-x
2013-09-26 19:26:00,245 WARN  datanode.DataNode (DataNode.java:makeInstance(1707)) - Invalid directory in dfs.data.dir: Incorrect permission for /home/johnugeorge/workspace/Hadoop-mdfs/hadoop-1.2.1/build/test/data/dfs/data/data2, expected: rwxr-xr-x, while actual: rwxrwxr-x
2013-09-26 19:26:00,245 ERROR datanode.DataNode (DataNode.java:makeInstance(1713)) - All directories in dfs.data.dir are invalid.
2013-09-26 19:26:00,276 INFO  util.NativeCodeLoader (NativeCodeLoader.java:<clinit>(43)) - Loaded the native-hadoop library
------------- ---------------- ---------------

Testcase: testDfsUrls took 2.805 sec
	Caused an ERROR
null
java.lang.NullPointerException
	at org.apache.hadoop.hdfs.MiniDFSCluster.startDataNodes(MiniDFSCluster.java:426)
	at org.apache.hadoop.hdfs.MiniDFSCluster.<init>(MiniDFSCluster.java:284)
	at org.apache.hadoop.hdfs.MiniDFSCluster.<init>(MiniDFSCluster.java:124)
	at org.apache.hadoop.fs.TestUrlStreamHandler.testDfsUrls(TestUrlStreamHandler.java:52)

Testcase: testFileUrls took 0.032 sec
